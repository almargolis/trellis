{% extends "base.html" %}

{% block title %}{{ garden.config.title }} - To Make Is Human{% endblock %}

{% block content %}
<div class="garden-view">
    <header class="garden-header">
        <h1>{{ garden.config.title }}</h1>
        {% if garden.config.description %}
        <p class="garden-description">{{ garden.config.description }}</p>
        {% endif %}
    </header>

    <div class="articles-grid">
        {% for article in articles %}
        <article class="article-card">
            <h2>
                <a href="{{ url_for('main.article', garden_slug=garden.slug, slug=article.slug) }}">
                    {{ article.metadata.title }}
                </a>
            </h2>

            <div class="article-meta">
                <div class="date-info">
                    <span class="date-label">Created:</span>
                    <time>{{ article.metadata.created_date }}</time>
                </div>
                <div class="date-info">
                    <span class="date-label">Published:</span>
                    <time>{{ article.metadata.published_date }}</time>
                </div>
                <div class="date-info">
                    <span class="date-label">Updated:</span>
                    <time>{{ article.metadata.updated_date }}</time>
                </div>
            </div>

            {% if article.metadata.tags %}
            <div class="tags">
                {% for tag in article.metadata.tags %}
                <span class="tag">{{ tag }}</span>
                {% endfor %}
            </div>
            {% endif %}

            <div class="excerpt">
                {{ article.metadata.description or article.content|striptags|truncate(200) }}
            </div>
        </article>
        {% else %}
        <div class="empty-garden">
            <p>No articles in this garden yet.</p>
        </div>
        {% endfor %}
    </div>
</div>

<style>
.garden-header {
    text-align: center;
    margin-bottom: 3rem;
    padding-bottom: 2rem;
    border-bottom: 3px solid;
    border-image: linear-gradient(90deg, var(--primary-color), var(--accent-color)) 1;
}

.garden-header h1 {
    font-size: 3rem;
    margin-bottom: 1rem;
    background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
}

.garden-header .garden-description {
    font-size: 1.2rem;
    color: var(--text-light);
}

.empty-garden {
    grid-column: 1 / -1;
    text-align: center;
    padding: 4rem;
    color: var(--text-light);
    font-size: 1.2rem;
}
</style>
{% endblock %}
